{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Dell\\\\ReactNative2021\\\\SWITCH\\\\vesna-smart-greenhouse\\\\app\\\\screens\\\\Temperature.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport * as React from 'react';\nimport { useState, Component, useEffect } from 'react';\nimport { WebView } from 'react-native-webview';\nimport { StatusBar } from 'expo-status-bar';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { IconButton, Colors } from 'react-native-paper';\nexport default function Temperature(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n\n  var pressHandler = function pressHandler() {\n    navigation.goBack();\n  };\n\n  var Light = function Light() {\n    navigation.replace('Light');\n  };\n\n  var AirQuality = function AirQuality() {\n    navigation.replace('AirQuality');\n  };\n\n  var Home = function Home() {\n    navigation.replace('Home');\n  };\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isEnabled1 = _useState2[0],\n      setIsEnabled1 = _useState2[1];\n\n  var toggleSwitch1 = function toggleSwitch1() {\n    setIsEnabled1(function (previousState) {\n      return !previousState;\n    });\n  };\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isEnabled = _useState4[0],\n      setIsEnabled = _useState4[1];\n\n  var toggleSwitch = function toggleSwitch() {\n    setIsEnabled(function (previousState) {\n      return !previousState;\n    });\n  };\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      data = _useState6[0],\n      setData = _useState6[1];\n\n  useEffect(function () {\n    var fetchData = function fetchData() {\n      var res, json;\n      return _regeneratorRuntime.async(function fetchData$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(fetch('https://thingspeak.com/channels/1632070/fields/1.json?results=1'));\n\n            case 3:\n              res = _context.sent;\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(res.json());\n\n            case 6:\n              json = _context.sent;\n              setData(json);\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 10]], Promise);\n    };\n\n    var id = setInterval(function () {\n      fetchData();\n    }, 6000);\n    fetchData();\n    return function () {\n      return clearInterval(id);\n    };\n  }, []);\n\n  try {\n    fetch('https://api.thingspeak.com/update.json', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        \"api_key\": \"87FQ51LBR379FTF3\",\n        \"field1\": isEnabled ? '1' : '0'\n      })\n    });\n  } catch (error) {\n    console.log(error);\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(StatusBar, {\n    style: \"light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 6\n    }\n  }), React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.main_text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, \"Temperature\")), React.createElement(WebView, {\n    source: {\n      uri: 'https://thingspeak.com/channels/1632070/charts/1?bgcolor=%23ffffff&color=%23d62020&dynamic=true&results=60&type=line&update=15'\n    },\n    scalesPageToFit: true,\n    style: {\n      width: '220%',\n      marginBottom: 7\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: {\n      flex: 0.2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: \"row\",\n      height: 40\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, \"Actual value\")), React.createElement(View, {\n    style: {\n      flex: 0.9\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, React.createElement(FlatList, {\n    data: data.feeds,\n    keyExtractor: function keyExtractor(_ref2, index) {\n      var field1 = _ref2.field1;\n      return field1;\n    },\n    renderItem: function renderItem(_ref3) {\n      var item = _ref3.item;\n      return React.createElement(Text, {\n        style: styles.t_text,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 17\n        }\n      }, parseFloat(item.field1).toFixed(2), \" \\xB0C\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  })))), React.createElement(View, {\n    style: {\n      flex: 0.2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: \"row\",\n      height: 50\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, \"Manual Control\")), React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }, React.createElement(Switch, {\n    trackColor: {\n      false: \"#767577\",\n      true: \"#3A6238\"\n    },\n    thumbColor: isEnabled ? \"#7EB37A\" : \"#f4f3f4\",\n    ios_backgroundColor: \"#3e3e3e\",\n    onValueChange: toggleSwitch,\n    value: isEnabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }\n  })))), React.createElement(View, {\n    style: {\n      flex: 0.2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: \"row\",\n      height: 55\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }, \"Actuator On/Off\")), React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 11\n    }\n  }, React.createElement(Switch, {\n    disabled: isEnabled ? false : true,\n    trackColor: {\n      false: \"#767577\",\n      true: \"#3A6238\"\n    },\n    thumbColor: isEnabled1 ? \"#7EB37A\" : \"#f4f3f4\",\n    ios_backgroundColor: \"#3e3e3e\",\n    onValueChange: toggleSwitch1,\n    value: isEnabled1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }\n  })))), React.createElement(WebView, {\n    source: {\n      uri: 'https://thingspeak.com/channels/1633394/charts/1?bgcolor=%23ffffff&color=%23d62020&dynamic=true&results=60&type=step'\n    },\n    scalesPageToFit: true,\n    style: {\n      width: '220%',\n      marginTop: 2,\n      marginBottom: 5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: {\n      flex: 0.4\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 6\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: \"row\",\n      height: 50,\n      bottom: 5,\n      left: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 8\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 10\n    }\n  }, React.createElement(IconButton, {\n    icon: \"brightness-6\",\n    size: 50,\n    onPress: Light,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 12\n    }\n  })), React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 10\n    }\n  }, React.createElement(IconButton, {\n    icon: \"air-filter\",\n    size: 50,\n    onPress: AirQuality,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 12\n    }\n  })), React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 10\n    }\n  }, React.createElement(IconButton, {\n    icon: \"home\",\n    size: 50,\n    onPress: Home,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 12\n    }\n  })))));\n}\nvar styles = StyleSheet.create({\n  main_text: {\n    textAlign: \"center\",\n    fontFamily: \"Cochin\",\n    fontWeight: \"bold\",\n    color: '#3A6238',\n    fontSize: 30,\n    lineHeight: 40\n  },\n  text: {\n    textAlign: \"center\",\n    fontFamily: \"Cochin\",\n    fontWeight: \"bold\",\n    color: '#3A6238',\n    fontSize: 20,\n    lineHeight: 30\n  },\n  t_text: {\n    textAlign: \"center\",\n    fontFamily: \"Cochin\",\n    color: '#3A6238',\n    fontSize: 20,\n    lineHeight: 30,\n    backgroundColor: \"#d9e8d8\"\n  },\n  container: {\n    flex: 1,\n    alignItems: \"center\"\n  }\n});","map":{"version":3,"sources":["C:/Users/Dell/ReactNative2021/SWITCH/vesna-smart-greenhouse/app/screens/Temperature.js"],"names":["React","useState","Component","useEffect","WebView","StatusBar","IconButton","Colors","Temperature","navigation","pressHandler","goBack","Light","replace","AirQuality","Home","isEnabled1","setIsEnabled1","toggleSwitch1","previousState","isEnabled","setIsEnabled","toggleSwitch","data","setData","fetchData","fetch","res","json","console","log","id","setInterval","clearInterval","method","headers","Accept","body","JSON","stringify","error","styles","main_text","uri","width","marginBottom","flex","flexDirection","height","text","feeds","index","field1","item","t_text","parseFloat","toFixed","container","false","true","marginTop","bottom","left","StyleSheet","create","textAlign","fontFamily","fontWeight","color","fontSize","lineHeight","backgroundColor","alignItems"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport {useState, Component, useEffect} from 'react';\r\nimport { WebView } from 'react-native-webview';\r\nimport { StatusBar } from 'expo-status-bar';\r\nimport { StyleSheet, SafeAreaView, View, Text, TouchableOpacity, TextInput, Button, ImageBackground,Switch, ActivityIndicator, FlatList } from 'react-native';\r\nimport { IconButton, Colors } from 'react-native-paper';\r\n\r\n\r\nexport default function Temperature({ navigation }) {\r\n\r\n  const pressHandler = () => {\r\n    navigation.goBack();\r\n  }\r\n\r\n  const Light = () => {\r\n      navigation.replace('Light')\r\n  }\r\n\r\n  const AirQuality = () => {\r\n      navigation.replace('AirQuality')\r\n  }\r\n\r\n  const Home = () => {\r\n    navigation.replace('Home')\r\n  }\r\n  \r\n  // Switch for on/off actuator\r\n  const [isEnabled1, setIsEnabled1] = useState(false);\r\n  const toggleSwitch1 = () => {\r\n    setIsEnabled1(previousState => !previousState)\r\n  } \r\n\r\n  // Switch for on/off manual control\r\n  const [isEnabled, setIsEnabled] = useState(false);\r\n  const toggleSwitch = () => {\r\n    setIsEnabled(previousState => !previousState)\r\n  } \r\n\r\n  const [data, setData] = useState([]);\r\n    useEffect(() => {\r\n      // (1) define within effect callback scope\r\n      const fetchData = async () => {\r\n        try {\r\n          const res = await fetch('https://thingspeak.com/channels/1632070/fields/1.json?results=1');\r\n          const json = await res.json();\r\n          setData(json);\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      };\r\n        \r\n      const id = setInterval(() => {\r\n        fetchData(); // <-- (3) invoke in interval callback\r\n      }, 6000);\r\n    \r\n      fetchData(); // <-- (2) invoke on mount\r\n    \r\n      return () => clearInterval(id);\r\n    }, [])\r\n\r\n    \r\n\r\n    // CHANNEL 1633394\r\n    // Manual on/off \r\n      try {\r\n          fetch('https://api.thingspeak.com/update.json' , {\r\n          method: 'POST',\r\n          headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(\r\n            {\r\n              \"api_key\": \"87FQ51LBR379FTF3\",\r\n              \"field1\": isEnabled ? '1' : '0',\r\n            }\r\n          )\r\n        });\r\n          \r\n      } catch(error) {\r\n      console.log(error);\r\n      }\r\n\r\n      \r\n\r\n  // const [isLoading, setLoading] = useState(true);\r\n  // const [data, setData] = useState([]);\r\n  // console.log(data);\r\n\r\n  // useEffect(() => {\r\n\r\n  // fetch('https://thingspeak.com/channels/1632070/fields/1.json?results=1')\r\n  //     .then((response) => response.json())\r\n  //     .then((json) => setData(json))\r\n  //     .catch((error) => console.error(error))\r\n  //     .finally(() => setLoading(false));\r\n  // }, []);\r\n\r\n  return (\r\n    <>\r\n    \r\n     <StatusBar style=\"light\" />\r\n      <View>\r\n          <Text style={styles.main_text}>Temperature</Text>\r\n      </View>\r\n      \r\n      <WebView source={{ uri: 'https://thingspeak.com/channels/1632070/charts/1?bgcolor=%23ffffff&color=%23d62020&dynamic=true&results=60&type=line&update=15' }} \r\n      scalesPageToFit={true}\r\n      style={{ width: '220%', marginBottom: 7}}\r\n      />\r\n      {/* <View>\r\n       <WebView\r\n          scalesPageToFit={true}\r\n          bounces={false}\r\n          javaScriptEnabled\r\n          style={{ height: 500, width: 300 }}\r\n          source={{ uri: 'https://thingspeak.com/channels/1548631/charts/1?bgcolor=%23ffffff&color=%23d62020&dynamic=true&results=60&type=line&update=15' }} \r\n          automaticallyAdjustContentInsets={false}\r\n         />\r\n      </View> */}\r\n      \r\n      <View style={{flex: 0.2}}>\r\n        <View style={{flexDirection:\"row\",  height: 40, }}>\r\n          <View style={{flex:1}}>\r\n            <Text style={styles.text}>Actual value</Text>\r\n          </View>\r\n      \t  \r\n          <View style={{flex:0.9}}>\r\n            {/* {isLoading ? <Text>Loading...</Text> :  */}\r\n            <FlatList\r\n              data ={data.feeds}\r\n              keyExtractor={({ field1 }, index) => field1}\r\n              renderItem={({ item }) => (\r\n                <Text style={styles.t_text}>{parseFloat(item.field1).toFixed(2)} Â°C</Text>\r\n              )}\r\n            />\r\n              {/* } */}\r\n          </View>\r\n        </View>\r\n      </View>\r\n      \r\n      <View style={{flex: 0.2}}>\r\n        <View style={{flexDirection:\"row\",  height: 50}}>\r\n          <View style={{flex:1}}>\r\n            <Text style={styles.text}>Manual Control</Text>\r\n          </View>\r\n\r\n          <View style={{flex:1}} style={styles.container}>\r\n          <Switch\r\n            trackColor={{ false: \"#767577\", true: \"#3A6238\" }}\r\n            thumbColor={isEnabled ? \"#7EB37A\" : \"#f4f3f4\"}\r\n            ios_backgroundColor=\"#3e3e3e\"\r\n            onValueChange={toggleSwitch}\r\n            value={isEnabled}\r\n          />\r\n          </View>\r\n        </View>\r\n      </View>\r\n\r\n      <View style={{flex: 0.2}}>\r\n        <View style={{flexDirection:\"row\",  height: 55}}>\r\n          <View style={{flex:1}}>\r\n            <Text style={styles.text}>Actuator On/Off</Text>\r\n          </View>\r\n\r\n          <View style={{flex:1}} style={styles.container}>\r\n          <Switch\r\n            disabled={isEnabled ? false : true}\r\n            trackColor={{ false: \"#767577\", true: \"#3A6238\" }}\r\n            thumbColor={isEnabled1 ? \"#7EB37A\" : \"#f4f3f4\"}\r\n            ios_backgroundColor=\"#3e3e3e\"\r\n            onValueChange={toggleSwitch1}\r\n            value={isEnabled1}\r\n          />\r\n          </View>\r\n        </View>\r\n      </View>\r\n\r\n      {/* WEBVIEW CHANNEL 1633394 */}\r\n\r\n      <WebView source={{ uri: 'https://thingspeak.com/channels/1633394/charts/1?bgcolor=%23ffffff&color=%23d62020&dynamic=true&results=60&type=step' }} \r\n      scalesPageToFit={true}\r\n      style={{ width: '220%', marginTop: 2,marginBottom: 5}}\r\n      />\r\n      \r\n\r\n     <View style={{flex: 0.4}}>\r\n       \r\n       <View style={{flexDirection:\"row\",  height: 50, bottom: 5, left: 20}}>\r\n         <View style={{flex:1}}>\r\n           <IconButton icon=\"brightness-6\" size={50} onPress={Light}/>\r\n         </View>\r\n         <View style={{flex:1}}>\r\n           <IconButton icon=\"air-filter\" size={50} onPress={AirQuality}/>\r\n         </View>\r\n         <View style={{flex:1}}>\r\n           <IconButton icon=\"home\" size={50} onPress={Home}/>\r\n         </View>\r\n       </View>\r\n     </View>\r\n  </>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  \r\n  main_text: {\r\n    textAlign: \"center\",\r\n    fontFamily: \"Cochin\",\r\n    fontWeight: \"bold\",\r\n    color: '#3A6238',\r\n    fontSize: 30,\r\n    lineHeight: 40,\r\n\r\n  },\r\n\r\n  text: {\r\n    textAlign: \"center\",\r\n    fontFamily: \"Cochin\",\r\n    fontWeight: \"bold\",\r\n    color: '#3A6238',\r\n    fontSize: 20,\r\n    lineHeight: 30,\r\n\r\n  },\r\n\r\n  t_text: {\r\n    textAlign: \"center\",\r\n    fontFamily: \"Cochin\",\r\n    color: '#3A6238',\r\n    fontSize: 20,\r\n    lineHeight: 30,\r\n    backgroundColor: \"#d9e8d8\"\r\n  },\r\n\r\n  container: {\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n  },\r\n\r\n});"]},"metadata":{},"sourceType":"module"}